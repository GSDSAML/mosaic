(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[887],{2613:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/class",function(){return n(1699)}])},2231:function(s,e,n){"use strict";n.d(e,{Z:function(){return ClassInfoPopup}});var i=n(1309),a=n(5893),t=n(7904),c=n(7294);function ClassInfoPopup(s){var e=s.classInfo,n=s.isShow,l=s.closePopup,r=(0,i._)((0,c.useState)("en"),2),d=r[0],o=r[1];return(0,c.useEffect)(function(){o((0,t.G3)())},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"modal fade post-popup "+(n?"show":""),children:(0,a.jsx)("div",{className:"modal-dialog class-info-popup",role:"document",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsx)("a",{className:"close icon-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:l,children:(0,a.jsx)("svg",{className:"olymp-close-icon",children:(0,a.jsx)("use",{xlinkHref:"#olymp-close-icon"})})}),(0,a.jsx)("div",{className:"modal-header",children:(0,a.jsx)("h6",{className:"title",children:(0,t.id)(d,"class_information")})}),(0,a.jsxs)("div",{className:"modal-body",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"name"),":"]})," ",(0,a.jsx)("span",{children:e&&e.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"description"),":"]})," ",(0,a.jsxs)("span",{children:[e&&e.description,"  "]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"start"),":"]})," ",(0,a.jsxs)("span",{children:[e&&e.start_time," "]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"end"),":"]})," ",(0,a.jsxs)("span",{children:[e&&e.end_time,"  "]})]})]})]})})}),(0,a.jsx)("div",{className:"modal-backdrop fade "+(n?"show":"")})]})}},6287:function(s,e,n){"use strict";n.d(e,{Z:function(){return ListRequests}});var i=n(1309),a=n(5893),t=n(7294),c=n(1664),l=n.n(c),r=n(7324),d=n(2231),o=n(7904);function ListRequests(s){var e=s.sourceId,n=s.targetId,c=s.listAPI,m=s.updateAPI,u=s.title,h=(0,i._)((0,t.useState)("en"),2),x=h[0],f=h[1],j=(0,i._)((0,t.useState)(25),2),v=j[0];j[1];var N=(0,i._)((0,t.useState)([]),2),p=N[0],_=N[1],g=(0,i._)((0,t.useState)(1),2),b=g[0],k=g[1],S=(0,i._)((0,t.useState)(!1),2),y=S[0],w=S[1],C=(0,i._)((0,t.useState)({}),2),I=C[0],P=C[1],filter=function(s){c(e,v,s,function(e){k(s),_(e)})},processRequest=function(s,i){m(e,s,i,function(e){e.message&&_(p.filter(function(e){return e[n]!==s}))})},viewClass=function(s){var e={name:s.name,description:s.description};w(!0),P(e)};return(0,t.useEffect)(function(){f((0,o.G3)()),filter(1)},[]),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:[(0,a.jsx)("div",{className:"submenu",children:(0,a.jsx)("h3",{className:"submenu-title",children:u?(0,a.jsx)(a.Fragment,{children:u}):(0,a.jsx)(a.Fragment,{children:(0,o.id)(x,"request_management")})})}),p.map(function(s,e){return(0,a.jsxs)("div",{className:"performance-item ui-block row-flex",children:[(0,a.jsxs)("div",{className:"birthday-item inline-items item-flex",children:["user_id"==n&&(0,a.jsx)("div",{className:"author-thumb",children:(0,a.jsx)("img",{loading:"lazy",src:s.avatar,alt:"author",width:"38",height:"38"})}),(0,a.jsxs)("div",{className:"author-name",children:["user_id"==n&&(0,a.jsx)(l(),{className:"h6 author-name",href:"/profile?uid="+s.user_id,children:s.fullname}),"class_id"==n&&(0,a.jsx)("a",{className:"h6",onClick:function(){viewClass(s)},children:s.name}),(0,a.jsx)("div",{className:"birthday-date",children:s.updated_at})]})]}),(0,a.jsxs)("div",{className:"performance-item-action item-flex",children:[(0,a.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){processRequest(s[n],1)},children:[(0,a.jsx)("i",{className:"fa fa-check"})," ",(0,o.id)(x,"approve")]}),(0,a.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){processRequest(s[n],2)},children:[(0,a.jsx)("i",{className:"fa fa-times"})," ",(0,o.id)(x,"reject")]})]})]},s.class_id+"_"+s.user_id)}),0==p.length?(0,a.jsx)("div",{className:"performance-item ui-block",children:(0,a.jsx)("div",{className:"birthday-item inline-items no-content",children:(0,a.jsx)("h4",{children:(0,o.id)(x,"no_incoming_requests")})})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(r.Z,{currentPage:b,onNext:function(){p.length&&!(p.length<v)&&filter(b+1)},onPrev:function(){var s=b-1;s>0&&filter(s)}})]}),(0,a.jsx)(d.Z,{isShow:y,closePopup:function(){w(!1)},classInfo:I})]})}},1699:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ClassDetail}});var i=n(2796),a=n(1309),t=n(5893),c=n(7294),l=n(9332),r=n(4827),d=n(6895),o=n(6366),m=n(8878),u=n(6287),h=n(9730),x=n(3614),f=n(2253),j=n(4932),v=n(4586),N=n(1664),p=n.n(N),_=n(7324),g=n(7904);function ListInvitations(s){var e=s.classId,n=(0,a._)((0,c.useState)("en"),2),i=n[0],l=n[1],r=(0,a._)((0,c.useState)(25),2),d=r[0];r[1];var o=(0,a._)((0,c.useState)([]),2),u=o[0],h=o[1],x=(0,a._)((0,c.useState)(1),2),N=x[0],b=x[1],k=(0,a._)((0,c.useState)(""),2),S=k[0],y=k[1],w=(0,a._)((0,c.useState)([]),2),C=w[0],I=w[1],filter=function(s){(0,m.TR)(e,d,s,function(e){b(s),h(e)})},remove=function(s){(0,m.EN)(e,s,function(e){e.message&&h(u.filter(function(e){return e.user_id!=s}))})},inviteStudent=function(s){y(""),I([]),(0,m.B3)(e,s.uid,function(n){n.message&&h([(0,j._)((0,f._)({},s),{user_id:s.uid,class_id:e,status:0,updated_at:(0,g.Xn)()})].concat((0,v._)(u)))})};return(0,c.useEffect)(function(){l((0,g.G3)()),filter(1)},[]),(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:[(0,t.jsx)("div",{className:"submenu",children:(0,t.jsx)("h3",{className:"submenu-title",children:(0,g.id)(i,"invitation_management")})}),(0,t.jsxs)("form",{className:"performance-form performance-list-form student-form",onSubmit:function(s){s.preventDefault()},children:[(0,t.jsx)("div",{className:"student-form-content flex",style:{padding:"10px 15px"},children:(0,t.jsxs)("div",{className:"form-group with-icon label-floating search-input-container inline-flex",children:[(0,t.jsx)("label",{className:"control-label",children:(0,g.id)(i,"invite_student_by_name")}),(0,t.jsx)("input",{className:"form-control",type:"text",value:S,placeholder:(0,g.id)(i,"search_here"),onChange:function(s){var e=s.target.value;y(e),e?(0,m.tu)(e,I):I([])}}),(0,t.jsx)("svg",{className:"olymp-magnifying-glass-icon",children:(0,t.jsx)("use",{xlinkHref:"#olymp-magnifying-glass-icon"})})]})}),0!=C.length&&(0,t.jsx)("div",{className:"student-results",children:(0,t.jsx)("div",{className:"student-results-content",children:C.map(function(s,e){return(0,t.jsxs)("div",{className:"student-results-item inline-items active",onClick:function(){inviteStudent(s)},children:[(0,t.jsx)("div",{className:"author-thumb",children:(0,t.jsx)("img",{src:s.avatar,alt:"avatar"})}),(0,t.jsx)("div",{className:"notification-event",children:(0,t.jsx)("span",{className:"h6 notification-friend",children:s.fullname})})]},e)})})})]}),u.map(function(s,e){return(0,t.jsxs)("div",{className:"performance-item ui-block row-flex",children:[(0,t.jsxs)("div",{className:"birthday-item inline-items item-flex",children:[(0,t.jsx)("div",{className:"author-thumb",children:(0,t.jsx)("img",{loading:"lazy",src:s.avatar,alt:"author",width:"38",height:"38"})}),(0,t.jsxs)("div",{className:"author-name",children:[(0,t.jsx)(p(),{className:"h6 author-name",href:"/profile?uid="+s.user_id,children:s.fullname}),(0,t.jsx)("div",{className:"birthday-date",children:s.updated_at})]}),(0,t.jsx)("div",{className:"birthday-author-name",children:(0,t.jsx)("a",{className:"h6 author-name",children:s.name})})]}),(0,t.jsxs)("div",{className:"performance-item-action item-flex",children:[(0,t.jsxs)("div",{className:"inline-items",children:[0==s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"far fa-clock"}),"\xa0",(0,g.id)(i,"pending")]}),1==s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"far fa-check"}),"\xa0",(0,g.id)(i,"accepted")]}),2==s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"far fa-ban"}),"\xa0",(0,g.id)(i,"rejected")]})]}),(0,t.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){remove(s.user_id,2)},children:[(0,t.jsx)("i",{className:"fa fa-times"})," ",(0,g.id)(i,"remove")]})]})]},s.class_id+"_"+s.user_id)}),0==u.length?(0,t.jsx)("div",{className:"performance-item ui-block",children:(0,t.jsx)("div",{className:"birthday-item inline-items no-content",children:(0,t.jsx)("h4",{children:(0,g.id)(i,"no_sent_invitations")})})}):(0,t.jsx)(t.Fragment,{}),(0,t.jsx)(_.Z,{currentPage:N,onNext:function(){u.length&&!(u.length<d)&&filter(N+1)},onPrev:function(){var s=N-1;s>0&&filter(s)}})]})})}var b=n(2341);function ClassDetail(s){(0,i._)(s);var e=(0,a._)((0,c.useState)("en"),2),n=e[0],f=e[1],j=(0,a._)((0,c.useState)({}),2),v=j[0],N=j[1],p=(0,a._)((0,c.useState)("students"),2),_=p[0],k=p[1],S=(0,l.useSearchParams)().get("cid");return(0,c.useEffect)(function(){f((0,g.G3)()),S&&(0,m.ll)(S,N)},[]),(0,t.jsxs)("div",{className:"my_class",children:[(0,t.jsx)(r.Z,{}),(0,t.jsx)(o.Z,{menuId:"my-class"}),(0,t.jsx)("div",{className:"header-spacer"}),(0,t.jsx)("div",{className:"container min-height-600",children:(0,t.jsxs)("div",{className:"fix-left-container",children:[(0,t.jsx)("div",{className:"class-action-container",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"class-action-title col col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",children:[(0,t.jsxs)("h3",{className:"class-name",children:[b.S[n].class," - ",v.name]}),(0,t.jsxs)("span",{children:["(",v.start_time?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{children:[(0,t.jsxs)("b",{children:[(0,g.id)(n,"start"),":"]})," ",v.start_time.slice(0,10)]}),"\xa0",(0,t.jsx)("span",{children:v.end_time?(0,t.jsxs)("span",{children:["\xa0",(0,t.jsx)("i",{className:"fas fa-long-arrow-alt-right"}),"\xa0\xa0",(0,t.jsxs)("b",{children:[(0,g.id)(n,"end"),":"]})," ",v.end_time.slice(0,10)]}):""})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{children:(0,g.id)(n,"no_information")})}),")"]})]}),(0,t.jsx)("div",{className:"col col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",children:(0,t.jsxs)("ul",{className:"class-action",children:[(0,t.jsx)("li",{className:"class-action-item "+("students"==_?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){k("students")},children:(0,t.jsx)("i",{className:"far fa-users"})})}),(0,t.jsx)("li",{className:"class-action-item "+("assignments"==_?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){k("assignments")},children:(0,t.jsx)("i",{className:"far fa-tasks"})})}),(0,t.jsx)("li",{className:"class-action-item "+("invitations"==_?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){k("invitations")},children:(0,t.jsx)("i",{className:"far fa-paper-plane"})})}),(0,t.jsx)("li",{className:"class-action-item "+("requests"==_?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){k("requests")},children:(0,t.jsx)("i",{className:"far fa-envelope-open-text"})})})]})})]})}),"students"==_&&(0,t.jsx)(h.Z,{classId:S,invite:function(){k("invitations")},createdUserId:v.created_user_id}),"assignments"==_&&(0,t.jsx)(x.Z,{classId:S}),"requests"==_&&(0,t.jsx)(u.Z,{sourceId:S,targetId:"user_id",listAPI:m.pU,updateAPI:m.WN}),"invitations"==_&&(0,t.jsx)(ListInvitations,{classId:S})]})}),(0,t.jsx)(d.Z,{pageNum:3})]})}}},function(s){s.O(0,[571,424,332,875,559,980,614,774,888,179],function(){return s(s.s=2613)}),_N_E=s.O()}]);